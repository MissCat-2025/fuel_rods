# 3D 目录：全三维 vs. 带压力的三维模型

本目录下主要是“陶瓷片热冲击”问题的 **3D 全三维弹热耦合** 版本，用来对照 2D 平面应力 / 平面应变 / 广义平面应变算例。

当前包含的文件核心是两份输入文件：

- 基础三维模型：[3D.i](3D.i)
- 叠加内压/接触压力的三维模型：[3DPressure.i](3DPressure.i)

另外还包含：

- 3D 后处理 CSV：[3D_post.csv](3D_post.csv)
- 3D Exodus 结果文件：[3D_out.e](3D_out.e)

## 1. 3D.i：最基本的三维热-弹性算例

**目标**：直接在三维几何上解耦合热传导 + 线弹性力学，对比 2D 简化假设（平面应力/平面应变/广义平面应变）的结果。

关键特征：

- 三维网格：
  - `[Mesh] dim = 3`，`nx = 50, ny = 10, nz = 1`  
  - 几何尺寸：`xmax = 25e-3, ymax = 5e-3, zmax = 0.5e-3`
- 力学变量：
  - 三个位移自由度：`disp_x, disp_y, disp_z`
- 热变量：
  - 温度：`temp`，初始值 `293.15 K`
- 力学核：
  - `ADStressDivergenceTensors` 对应 `disp_x/disp_y/disp_z` 的 3 个平衡方程
- 热核：
  - `ADHeatConduction` + `ADHeatConductionTimeDerivative`
- 材料：
  - 等向线弹性：`ADComputeIsotropicElasticityTensor`
  - 热膨胀本征应变：`ADComputeThermalExpansionEigenstrain`
  - 小应变：`ADComputeSmallStrain`
  - 线弹性应力：`ADComputeLinearElasticStress`
- 边界条件：
  - 在 `center_point` 上对 `disp_x/disp_y/disp_z` 施加位移为 0 的对称/约束
  - 左右两侧温差加载：左 `293.15K`，右 `1293.15K`
- 后处理：
  - `avg_temp`（平均温度）
  - `max_MaxPrincipal`（最大主应力最大值）
  - 同时输出 Exodus + CSV

理解角度：

- 这是“**什么假设都不加**”的参考模型（除了 3D 厚度只切 1 层网格这一点数值近似）。
- 可以用来检查 2D 模型（平面应力 / 平面应变 / 广义平面应变）在应力场和温度场上的差别。

## 2. 3DPressure.i：在 3D 模型上叠加压力加载

**目标**：在 3D 基础模型上加入额外的 **压力边界条件**，模拟类似“内压”或“接触压强”的情况。

与 3D.i 相比：

- 网格、变量、材料设置几乎一样；
- 主要差别在于 **力学边界条件多了一个 Pressure BC**：

```text
[gap_pressure_fuel_x]
  type = Pressure
  variable = disp_x
  boundary = 'pellet_inner'
  factor = 1
  function = gap_pressure_const
[]
```

这段的含义：

- 在 `pellet_inner` 这个边界上，对 `disp_x` 施加一个法向压力；
- 压力大小由 `factor * function` 决定：
  - `factor = 1`
  - `function = gap_pressure_const`（常数函数，需要在 Function 区定义）

物理理解：

- 3D.i：只有热应力（温差 + 约束）导致的应力场；
- 3DPressure.i：在热应力基础上，再叠加一个额外的“压力来源”，更接近实际工况（例如燃料棒内压、接触压等）。

## 3. 使用建议

- 如果你想对照 2D 平面假设和 3D 真实情况：
  - 先跑 `3D.i`，看整体温度场和主应力分布；
  - 再跑对应的 2D 算例（PlaneStress / PaneStrain / GeneralizedPaneStrain），比较截面上的应力水平。
- 如果你关心压力效应：
  - 对比 `3D.i` 与 `3DPressure.i` 的 `max_MaxPrincipal`，观察内压/接触压对最大主应力的影响。

